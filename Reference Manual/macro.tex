% macro.tex

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{amsthm}
\usepackage[dvipsnames]{xcolor}
\usepackage{csquotes}
\usepackage[strings]{underscore}
\usepackage{hyperref}
\usepackage{bussproofs}
\usepackage{makecell}
\usepackage{subcaption}
\sloppy % better (?) margin handling


\newtheorem{thm}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\theoremstyle{definition}
\newtheorem{defin}{Definition}
\newtheorem{ex}{Example}

\newtheorem{axz}{}
\renewcommand\theaxz{Z\arabic{axz}}
\newtheorem{axzf}{}
\renewcommand\theaxzf{ZF\arabic{axzf}}
\newtheorem{axtg}{}
\renewcommand\theaxtg{TG\arabic{axtg}}

\lstset{
language=Scala,
escapeinside={(*@}{@*)}
}

\usepackage{fontspec}
\setmonofont[
  Contextuals={Alternate}
]{Fira Code}

\makeatletter
\def\verbatim@nolig@list{}
\makeatother

\definecolor{green}{rgb}{0, 0.6, 0}

\definecolor{comments}{RGB}{80,0,110}

\lstdefinelanguage{scala}{
    alsoletter={@,=,>},
    keywordstyle = {\color{blue}},
    keywordstyle = [2]{\color{blue}},
    commentstyle = \color{comments},
    morekeywords = [2]{abstract, case, class, def, do, Input, Output, then,
        else, extends, false, free, if, implicit, match,
        object, true, val, var, while, sealed, or,
        for, dependent, null, type, with, try, catch, finally,
        import, final, return, new, override, this, trait,
        private, public, protected, package, throw},
    sensitive = true, 
    numbers=left,
    stepnumber=1,
    morecomment = [l]{//},
    morecomment = [s]{/*}{*/},
    morestring = [b]",  
    otherkeywords = {;,<<,>>,++},
}

\lstdefinelanguage{lisa}{
    alsoletter={@,=,>},
    keywordstyle = {\color{blue}},
    keywordstyle = [2]{\color{blue}},
    keywordstyle = [3]{\color{green}},
    keywordstyle = [4]{\color{teal}},
    commentstyle = \color{comments},
    morekeywords = [2]{abstract, case, class, def, do, Input, Output, then,
        else, extends, false, free, if, implicit, match,
        object, true, val, var, while, sealed, or,
        for, dependent, null, type, with, try, catch, finally,
        import, final, return, new, override, this, trait,
        private, public, protected, package, throw},
    morekeywords = [3]{have, andThen, thenHave, Theorem, by, DEF, The, Lemma, subproof, assume},
    sensitive = true, 
    numbers=left,
    stepnumber=1,
    morecomment = [l]{//},
    morecomment = [s]{/*}{*/},
    morestring = [b]",  
    otherkeywords = {;,<<,>>,++},
}

\lstset{basicstyle=\scriptsize\ttfamily,mathescape,escapeinside={!*}{*!},columns=fullflexible,morekeywords={if,then,else,return,match,with,end,let,in, data, type, :=, def}}

\DeclareMathOperator{\pick}{pick}

